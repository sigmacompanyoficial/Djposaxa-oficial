<!DOCTYPE html>
<html lang="ca">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DJ Posaxa - Promo Animation</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <style>
    body,
    html {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      font-family: arial, sans-serif;
    }

    /* --- CURSOR --- */
    #fake-cursor {
      position: fixed;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="black" stroke="white" stroke-width="1"><path d="M5.5 3.21l10.08 15.66c.36.56-.16 1.27-.78 1.07l-3.66-1.18-3.05 6.63c-.22.48-.8.69-1.28.47l-1.74-.8c-.48-.22-.69-.8-.47-1.28l3.05-6.63-4.14-1.34c-.62-.2-.54-1.11.12-1.2l1.87-11.4z"/></svg>');
      background-size: contain;
      background-repeat: no-repeat;
      z-index: 99999;
      pointer-events: none;
      filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.3));
    }

    /* --- GOOGLE PHASE --- */
    #google-phase {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 1000;
    }

    .google-logo {
      margin-top: 15vh;
      font-size: 90px;
      font-weight: bold;
      letter-spacing: -2px;
    }

    .g-blue {
      color: #4285f4;
    }

    .g-red {
      color: #ea4335;
    }

    .g-yellow {
      color: #fbbc05;
    }

    .g-green {
      color: #34a853;
    }

    .search-bar {
      margin-top: 30px;
      width: 580px;
      height: 46px;
      border: 1px solid #dfe1e5;
      border-radius: 24px;
      display: flex;
      align-items: center;
      padding: 0 20px;
      box-shadow: 0 1px 6px rgba(32, 33, 36, .28);
    }

    .search-input {
      flex: 1;
      border: none;
      outline: none;
      font-size: 16px;
      margin-left: 10px;
    }

    /* Results Page Mock */
    #google-results {
      display: none;
      width: 100%;
      height: 100%;
      padding: 20px 150px;
      text-align: left;
    }

    .result-item {
      margin-bottom: 30px;
      max-width: 600px;
    }

    .result-url {
      color: #202124;
      font-size: 14px;
      margin-bottom: 5px;
    }

    .result-title {
      color: #1a0dab;
      font-size: 20px;
      cursor: pointer;
      text-decoration: none;
    }

    .result-title:hover {
      text-decoration: underline;
    }

    .result-desc {
      color: #4d5156;
      font-size: 14px;
      line-height: 1.58;
    }

    /* --- WEBSITE PHASE --- */
    #site-phase {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 500;
      opacity: 0;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* --- FAKE CHATBOT OVERLAY --- */
    #fake-chatbot-ui {
      position: fixed;
      bottom: 80px;
      right: 20px;
      width: 350px;
      height: 450px;
      background: #1a1a1a;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      display: none;
      /* Hidden initially */
      flex-direction: column;
      z-index: 2000;
      font-family: 'Inter', sans-serif;
      overflow: hidden;
    }

    .chat-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 15px;
      color: white;
    }

    .chat-messages {
      flex: 1;
      padding: 15px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      overflow-y: auto;
    }

    .message {
      padding: 10px 15px;
      border-radius: 15px;
      font-size: 0.9rem;
      max-width: 85%;
      color: #fff;
    }

    .message.bot {
      background: rgba(255, 255, 255, 0.1);
      align-self: flex-start;
    }

    .message.user {
      background: #667eea;
      align-self: flex-end;
    }

    .chat-input-area {
      padding: 15px;
      background: #111;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .fake-input {
      width: 100%;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 8px 15px;
      color: white;
      height: 38px;
      display: flex;
      align-items: center;
    }
  </style>
</head>

<body>

  <!-- Fake Cursor -->
  <div id="fake-cursor"></div>

  <!-- Google Phase -->
  <div id="google-phase">
    <div id="google-home" style="display: flex; flex-direction: column; align-items: center; width: 100%;">
      <div class="google-logo">
        <span class="g-blue">G</span><span class="g-red">o</span><span class="g-yellow">o</span><span
          class="g-blue">g</span><span class="g-green">l</span><span class="g-red">e</span>
      </div>
      <div class="search-bar">
        <i class="bi bi-search" style="color: #9aa0a6;"></i>
        <input type="text" class="search-input" id="g-input" readonly>
        <i class="bi bi-mic-fill" style="color: #4285f4; font-size: 20px;"></i>
      </div>
    </div>

    <div id="google-results">
      <div
        style="display: flex; align-items: center; margin-bottom: 20px; border-bottom: 1px solid #ebebeb; padding-bottom: 15px;">
        <span class="google-logo" style="font-size: 30px; margin-top: 0; margin-right: 30px;">
          <span class="g-blue">G</span><span class="g-red">o</span><span class="g-yellow">o</span><span
            class="g-blue">g</span><span class="g-green">l</span><span class="g-red">e</span>
        </span>
        <div class="search-bar" style="margin-top: 0; width: 400px; height: 40px;">
          <input type="text" class="search-input" value="dj posaxa" readonly>
        </div>
      </div>

      <div class="result-item" id="target-result">
        <div class="result-url">https://djposaxa.com</div>
        <a href="#" class="result-title">DJ Posaxa - Official Website</a>
        <div class="result-desc">Eleva la teva festa al segÃ¼ent nivell amb DJ Posaxa. ExperiÃ¨ncies musicals
          inoblidables, mashups exclusius i animaciÃ³ professional.</div>
      </div>

      <div class="result-item">
        <div class="result-url">https://instagram.com > dj.posaxa</div>
        <a href="#" class="result-title">DJ Posaxa (@dj.posaxa) â€¢ Instagram photos and videos</a>
        <div class="result-desc">3.6K Followers, 100 Following, 50 Posts - See Instagram photos and videos from DJ
          Posaxa.</div>
      </div>
    </div>
  </div>

  <!-- Site Phase -->
  <div id="site-phase">
    <iframe id="main-frame" src="../index.html"></iframe>
  </div>

  <!-- Fake Chatbot UI (Overlay) -->
  <div id="fake-chatbot-ui">
    <div class="chat-header">
      <h5 style="margin:0; font-size: 1rem;">ðŸ¤– Sigma AI</h5>
    </div>
    <div class="chat-messages" id="chat-msgs">
      <div class="message bot">Hola! SÃ³c Sigma, la IA de DJ Posaxa. Pregunta'm el que vulguis! ðŸŽµ</div>
    </div>
    <div class="chat-input-area">
      <div class="fake-input" id="chat-input-text"></div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const tl = gsap.timeline();
      const cursor = document.getElementById('fake-cursor');
      const gInput = document.getElementById('g-input');
      const googleHome = document.getElementById('google-home');
      const googleResults = document.getElementById('google-results');
      const sitePhase = document.getElementById('site-phase');
      const iframe = document.getElementById('main-frame');

      // Helper to type text
      function typeText(element, text, speed = 0.1) {
        return gsap.to(element, {
          duration: text.length * speed,
          text: { value: text, delimiter: "" },
          ease: "none",
          onUpdate: function () {
            if (element.tagName === 'INPUT') element.value = Math.round(this.progress() * text.length) > 0 ? text.substring(0, Math.ceil(this.progress() * text.length)) : "";
            else element.innerText = text.substring(0, Math.ceil(this.progress() * text.length));
          }
        });
      }

      // --- ANIMATION SEQUENCE ---

      // 1. Start at random position, move to Google Search Bar
      tl.set(cursor, { x: window.innerWidth * 0.8, y: window.innerHeight * 0.8 })
        .to(cursor, { x: window.innerWidth / 2, y: window.innerHeight * 0.4, duration: 1.5, ease: "power2.out" })

        // 2. Click and Type "dj posaxa"
        .to(cursor, { scale: 0.9, duration: 0.1, yoyo: true, repeat: 1 }) // Click effect
        .to({}, { duration: 0.5 }) // Wait a bit
        .call(() => {
          // Manual typing effect for input value
          let text = "dj posaxa";
          let i = 0;
          let interval = setInterval(() => {
            gInput.value += text.charAt(i);
            i++;
            if (i >= text.length) clearInterval(interval);
          }, 100);
        })
        .to({}, { duration: 1.5 }) // Wait for typing

        // 3. Simulate Enter / Search
        .to(googleHome, { opacity: 0, duration: 0.5, display: "none" })
        .set(googleResults, { display: "block", opacity: 0 })
        .to(googleResults, { opacity: 1, duration: 0.5 })

        // 4. Move to First Result
        .to(cursor, { x: 250, y: 200, duration: 1, ease: "power2.inOut" }) // Approx position of first link
        .to(cursor, { scale: 0.9, duration: 0.1, yoyo: true, repeat: 1 }) // Click

        // 5. Transition to Real Site
        .to("#google-phase", { opacity: 0, duration: 0.5, display: "none" })
        .set(sitePhase, { opacity: 1 })
        .to({}, { duration: 1 }) // Wait for load

        // 6. Scroll to "DJ Posaxa" (Bio Section)
        .call(() => {
          try {
            // Try to find the element inside iframe
            const bio = iframe.contentDocument.querySelector('.bio-section');
            if (bio) {
              iframe.contentWindow.scrollTo({ top: bio.offsetTop, behavior: 'smooth' });
            }
          } catch (e) { console.log("CORS block, using estimation"); }
        })
        .to({}, { duration: 3 }) // Scroll time + 2s pause

        // 7. Scroll to "Events" (Carnaval)
        .call(() => {
          try {
            const events = iframe.contentDocument.querySelector('.intro'); // Events section class
            if (events) {
              iframe.contentWindow.scrollTo({ top: events.offsetTop, behavior: 'smooth' });
            }
          } catch (e) { }
        })
        .to({}, { duration: 2 }) // Scroll time + 1s pause

        // 8. Scroll to Gallery and Hover Photos
        .call(() => {
          try {
            const gallery = iframe.contentDocument.querySelector('.section-gallery');
            if (gallery) {
              iframe.contentWindow.scrollTo({ top: gallery.offsetTop, behavior: 'smooth' });
            }
          } catch (e) { }
        })
        .to({}, { duration: 1 }) // Wait for scroll

        // Move cursor to Photo 1 (Simulated coordinates relative to screen)
        .to(cursor, { x: window.innerWidth * 0.2, y: window.innerHeight * 0.6, duration: 1 })
        .to({}, { duration: 1 }) // Hover 1s

        // Move cursor to Photo 2
        .to(cursor, { x: window.innerWidth * 0.5, y: window.innerHeight * 0.6, duration: 0.5 })
        .to({}, { duration: 1 }) // Hover 1s

        // Move cursor to Photo 3
        .to(cursor, { x: window.innerWidth * 0.8, y: window.innerHeight * 0.6, duration: 0.5 })
        .to({}, { duration: 1 }) // Hover 1s

        // 9. Go to Chatbot
        .to(cursor, { x: window.innerWidth - 50, y: window.innerHeight - 50, duration: 1.5 }) // Bottom right
        .to(cursor, { scale: 0.9, duration: 0.1, yoyo: true, repeat: 1 }) // Click
        .call(() => {
          document.getElementById('fake-chatbot-ui').style.display = 'flex';
        })
        .to({}, { duration: 0.5 })

        // 10. Type Question
        .call(() => {
          const chatInput = document.getElementById('chat-input-text');
          let text = "Qui Ã©s DJ Posaxa?";
          let i = 0;
          let interval = setInterval(() => {
            chatInput.innerText += text.charAt(i);
            i++;
            if (i >= text.length) clearInterval(interval);
          }, 50);
        })
        .to({}, { duration: 1.5 }) // Wait for typing

        // 11. Send and Stream Response
        .call(() => {
          // Add user message
          const msgs = document.getElementById('chat-msgs');
          const userMsg = document.createElement('div');
          userMsg.className = 'message user';
          userMsg.innerText = "Qui Ã©s DJ Posaxa?";
          msgs.appendChild(userMsg);
          document.getElementById('chat-input-text').innerText = "";
          msgs.scrollTop = msgs.scrollHeight;

          // Simulate Bot Thinking
          setTimeout(() => {
            const botMsg = document.createElement('div');
            botMsg.className = 'message bot';
            msgs.appendChild(botMsg);

            // Super fast stream text
            const responseText = `ðŸŽ§ **DJ Posaxa** (Pol Solanas Ramos) Ã©s el jove prodigi de Granollers que estÃ  revolucionant la festa! ðŸ”¥ Nascut el 2010, combina Reggaeton, Techno i Mashups exclusius en directe. 
                      
Ha punxat a llocs mÃ­tics com la **NAUB1** pel Carnaval 2026 i la Festa Major de Granollers. La seva filosofia? "La mÃºsica Ã©s l'Ã nima de la festa". Si busques energia pura, ell Ã©s el teu DJ! ðŸš€`;

            let j = 0;
            let streamInterval = setInterval(() => {
              // Add 3 chars at a time for "super fast" effect
              botMsg.innerText += responseText.substring(j, j + 3);
              j += 3;
              msgs.scrollTop = msgs.scrollHeight;
              if (j >= responseText.length) clearInterval(streamInterval);
            }, 10); // 10ms per chunk

          }, 500);
        });
    });
  </script>
</body>

</html>